
> lux-story@2.1.0 validate-graphs
> npx tsx scripts/validate-dialogue-graphs.ts


ğŸ“Š Dialogue Graph Validator
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ˆ Graph Statistics:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

samuel:
  Nodes: 205 (43 reachable)
  Choices: 367
  Max depth: 19
  Trust-gated: 23
  Flag-gated: 14
  âš ï¸  Orphaned: 39
  âŒ Broken refs: 1
  ğŸ­ Fake choices: 19 clusters
  ğŸ“Š Patterns: A:55 H:63 B:42 P:116 E:82

maya:
  Nodes: 32 (27 reachable)
  Choices: 77
  Max depth: 14
  Trust-gated: 5
  Flag-gated: 2
  âš ï¸  Orphaned: 3
  ğŸ­ Fake choices: 18 clusters
  ğŸ“Š Patterns: A:13 H:28 B:10 P:15 E:11

maya-revisit:
  Nodes: 12 (12 reachable)
  Choices: 24
  Max depth: 5
  Trust-gated: 0
  Flag-gated: 4
  ğŸ­ Fake choices: 4 clusters
  ğŸ“Š Patterns: A:3 H:9 P:6 E:6

devon:
  Nodes: 39 (37 reachable)
  Choices: 78
  Max depth: 18
  Trust-gated: 1
  Flag-gated: 1
  âš ï¸  Orphaned: 1
  ğŸ­ Fake choices: 15 clusters
  ğŸ“Š Patterns: A:15 H:21 B:8 P:18 E:16

jordan:
  Nodes: 30 (29 reachable)
  Choices: 66
  Max depth: 23
  Trust-gated: 9
  Flag-gated: 6
  âš ï¸  Orphaned: 1
  ğŸ­ Fake choices: 14 clusters
  ğŸ“Š Patterns: A:12 H:17 B:9 P:14 E:14

kai:
  Nodes: 47 (46 reachable)
  Choices: 88
  Max depth: 26
  Trust-gated: 0
  Flag-gated: 0
  âš ï¸  Orphaned: 1
  ğŸ­ Fake choices: 12 clusters
  ğŸ“Š Patterns: A:22 H:28 B:17 P:6 E:12

silas:
  Nodes: 36 (27 reachable)
  Choices: 49
  Max depth: 18
  Trust-gated: 1
  Flag-gated: 0
  âš ï¸  Orphaned: 1
  ğŸ­ Fake choices: 1 clusters
  ğŸ“Š Patterns: A:13 H:15 B:4 P:6 E:7

marcus:
  Nodes: 37 (37 reachable)
  Choices: 79
  Max depth: 29
  Trust-gated: 1
  Flag-gated: 1
  ğŸ­ Fake choices: 25 clusters
  ğŸ“Š Patterns: A:16 H:23 B:16 P:14 E:10

tess:
  Nodes: 34 (24 reachable)
  Choices: 66
  Max depth: 13
  Trust-gated: 1
  Flag-gated: 0
  âš ï¸  Orphaned: 1
  ğŸ­ Fake choices: 11 clusters
  ğŸ“Š Patterns: A:9 H:12 B:15 P:16 E:14

rohan:
  Nodes: 35 (35 reachable)
  Choices: 61
  Max depth: 21
  Trust-gated: 1
  Flag-gated: 0
  ğŸ­ Fake choices: 7 clusters
  ğŸ“Š Patterns: A:11 H:15 B:13 P:8 E:9

yaquin:
  Nodes: 33 (33 reachable)
  Choices: 64
  Max depth: 20
  Trust-gated: 2
  Flag-gated: 1
  ğŸ­ Fake choices: 11 clusters
  ğŸ“Š Patterns: A:11 H:18 B:16 P:10 E:9

alex:
  Nodes: 32 (31 reachable)
  Choices: 51
  Max depth: 18
  Trust-gated: 0
  Flag-gated: 0
  âš ï¸  Orphaned: 1
  ğŸ­ Fake choices: 3 clusters
  ğŸ“Š Patterns: A:11 H:8 B:8 P:8 E:16

yaquin-revisit:
  Nodes: 7 (7 reachable)
  Choices: 11
  Max depth: 4
  Trust-gated: 0
  Flag-gated: 0
  ğŸ­ Fake choices: 1 clusters
  ğŸ“Š Patterns: A:4 H:3 B:2 P:1 E:1

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
TOTAL: 579 nodes, 1081 choices across 13 graphs

âŒ ERRORS (4):
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

[samuel] samuel_check_messages/check_grace
  Choice points to non-existent node: "grace_revisit_welcome"
  ğŸ’¡ Create node "grace_revisit_welcome" or fix the reference

[samuel] samuel_check_messages/check_grace
  Choice points to non-existent node: "grace_revisit_welcome"
  ğŸ’¡ Create node "grace_revisit_welcome" in the appropriate graph or fix the reference

[samuel] samuel_check_messages/check_devon
  Choice points to non-existent node: "devon_revisit_welcome"
  ğŸ’¡ Create node "devon_revisit_welcome" in the appropriate graph or fix the reference

[samuel] samuel_orb_exploring_reveal/hub_wait_quietly
  Choice points to non-existent node: "samuel_hub_wait_loop"
  ğŸ’¡ Create node "samuel_hub_wait_loop" in the appropriate graph or fix the reference

âš ï¸  WARNINGS (197):
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

[samuel] systemic_calibration_start
  FAKE CHOICE: 2 choices all lead to "systemic_calibration_friction"
  ğŸ’¡ Choices: "I'm fine. Just let me through....", "It's just been a long trip....". Create divergent paths or different acknowledgment.

[samuel] systemic_calibration_test
  FAKE CHOICE: 3 choices all lead to "samuel_explains_station"
  ğŸ’¡ Choices: "The fear that I'm wasting time....", "The feeling that I'm invisible....", "The weight of everything I haven't built...". Create divergent paths or different acknowledgment.

[samuel] station_arrival
  Node missing speaker
  ğŸ’¡ Add a speaker field (character name or "Narrator")

[samuel] station_observation
  Node missing speaker
  ğŸ’¡ Add a speaker field (character name or "Narrator")

[samuel] observe_passengers
  Node missing speaker
  ğŸ’¡ Add a speaker field (character name or "Narrator")

[samuel] samuel_introduction_patient
  FAKE CHOICE: 2 choices all lead to "systemic_calibration_start"
  ğŸ’¡ Choices: "What is this place exactly?...", "The platformsâ€”where do they lead?...". Create divergent paths or different acknowledgment.

[samuel] samuel_backstory_intro
  FAKE CHOICE: 2 choices all lead to "samuel_backstory_revelation"
  ğŸ’¡ Choices: "So why'd you leave?...", "Sounds like a solid life...". Create divergent paths or different acknowledgment.

[samuel] samuel_backstory_revelation
  FAKE CHOICE: 2 choices all lead to "samuel_pause_after_backstory"
  ğŸ’¡ Choices: "So what did you want to build?...", "I understand that feeling....". Create divergent paths or different acknowledgment.

[samuel] samuel_purpose_found
  FAKE CHOICE: 2 choices all lead to "samuel_orb_introduction"
  ğŸ’¡ Choices: "That's a beautiful purpose....", "I'm ready to find my blueprint....". Create divergent paths or different acknowledgment.

[samuel] samuel_purpose_found_3
  FAKE CHOICE: 2 choices all lead to "samuel_orb_introduction"
  ğŸ’¡ Choices: "That's a beautiful purpose....", "I'm ready to find my blueprint....". Create divergent paths or different acknowledgment.

[samuel] samuel_traveler_origin
  FAKE CHOICE: 2 choices all lead to "samuel_origin_choice"
  ğŸ’¡ Choices: "What was your crossroads?...", "[Listen]...". Create divergent paths or different acknowledgment.

[samuel] samuel_origin_keeper_choice
  FAKE CHOICE: 2 choices all lead to "samuel_daughter_path"
  ğŸ’¡ Choices: "That takes real courage....", "Where is your daughter now?...". Create divergent paths or different acknowledgment.

[samuel] samuel_orb_introduction
  FAKE CHOICE: 2 choices all lead to "samuel_orb_explanation"
  ğŸ’¡ Choices: "What is it?...", "(Accept it)...". Create divergent paths or different acknowledgment.

[samuel] samuel_discovers_building
  FAKE CHOICE: 2 choices all lead to "devon_introduction"
  ğŸ’¡ Choices: "That sounds... familiar. I'll find him....", "He must feel so lost. Trying to help but...". Create divergent paths or different acknowledgment.

[samuel] samuel_reflect_on_influence_pt2
  FAKE CHOICE: 2 choices all lead to "samuel_hub_after_maya"
  ğŸ’¡ Choices: "What path did she choose?...", "That distinction matters....". Create divergent paths or different acknowledgment.

[samuel] samuel_marcus_reflection_gateway
  FAKE CHOICE: 2 choices all lead to "samuel_reflects_marcus_stakes"
  ğŸ’¡ Choices: "It was intense. One mistake and it's ove...", "It felt meaningful to hold a life like t...". Create divergent paths or different acknowledgment.

[samuel] samuel_check_messages
  Invalid pattern: "neutral"
  ğŸ’¡ Use one of: analytical, helping, building, patience, exploring

[samuel] samuel_jordan_intro
  FAKE CHOICE: 2 choices all lead to "jordan_introduction"
  ğŸ’¡ Choices: "I'll go talk to her....", "Seven jobs means seven times she took a ...". Create divergent paths or different acknowledgment.

[samuel] samuel_analytical_bonus_3
  FAKE CHOICE: 2 choices all lead to "samuel_your_path"
  ğŸ’¡ Choices: "Analysis provides structure. Intuition p...", "I'm learning when analysis becomes avoid...". Create divergent paths or different acknowledgment.

[samuel] samuel_patience_bonus_3
  FAKE CHOICE: 3 choices all lead to "samuel_hub_after_maya"
  ğŸ’¡ Choices: "Learned. Through waiting I didn't choose...", "Still practicing. Every encounter teache...", "Maybe both. Some things are native, some...". Create divergent paths or different acknowledgment.

... and 177 more warnings

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âŒ VALIDATION FAILED - 4 error(s) found
