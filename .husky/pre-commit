#!/bin/sh
# Pre-commit hook to validate dialogue graphs before commit
# Prevents broken content from entering codebase

# Check if any dialogue graph files are being committed
if git diff --cached --name-only | grep -q "content/.*-dialogue-graph.ts"; then
  echo "ğŸ” Validating dialogue graphs..."
  npm run validate-graphs
  
  if [ $? -ne 0 ]; then
    echo "âŒ Dialogue graph validation failed. Please fix errors before committing."
    exit 1
  fi
  
  echo "âœ… Dialogue graphs validated successfully"
fi
